{% extends "layout.html" %}
{% block main %}

<div class="album py-5 bg-light">
    <div class="container">
        <legend class="card-header h5 border-secondary bg-dark text-light">Сервисы</legend>
        <div class="row row-cols-sm-2 g-3">
            {% for _network in networks %}
            <div class="col">
                <div class="card shadow-sm">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">{{ _network.type }}</h5>
                        <p class="card-text">{{ _network.description }}</p>
                        {% if _network.countInstanses == 0 %}
                        <div class="alert alert-warning mt-auto" role="alert">
                            Сервис сейчас недоступен
                        </div>
                        {% else %}
                        <form class="file_form mt-auto" enctype="multipart/form-data" id="{{ _network.type }}">
                            <input class="file_sendTo" type="hidden" value="{{ _network.address }}"/>
                            <input class="file_input form-control form-control-sm" type="file"
                                   accept="{{ _network.accept }}/*">
                            <button type="submit" class="btn btn-sm btn-outline-secondary">Обработать</button>
                        </form>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
<div class="container result" hidden>
    <legend class="card-header h5 border-secondary bg-dark text-light">Результат</legend>
    <div class="yolo_image-container img-thumbnail rounded" align="center">
        <div class="yolo_image">

        </div>
    </div>
    <div class="audio_classify-container img-thumbnail rounded" align="center">
        <div class="audio_classify">

        </div>
        <section class="tracklines">
            <div class="timeline"></div>
        </section>
    </div>
</div>
{% endblock %}


{% block script %}
<script defer type="module" src="/static/js/index.js"></script>
<script defer type="module" src="/static/js/modules/image.js"></script>
<script defer type="module" src="/static/js/modules/audio.js"></script>
<script defer type="module" src="/static/js/modules/submit.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
        crossorigin="anonymous">
</script>
{% endblock %}

